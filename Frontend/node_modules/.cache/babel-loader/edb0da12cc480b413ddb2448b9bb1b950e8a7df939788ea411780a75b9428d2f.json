{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\TRINADH\\\\Downloads\\\\BITS Notes\\\\second sem\\\\Full stack\\\\School Vaccination Project\\\\Frontend\\\\src\\\\components\\\\dashboard\\\\VaccinationChart.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nimport Chart from \"chart.js/auto\";\nimport \"./VaccinationChart.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VaccinationChart = ({\n  data\n}) => {\n  _s();\n  const chartRef = useRef(null);\n  const chartInstance = useRef(null);\n  useEffect(() => {\n    if (!data || data.length === 0) return;\n\n    // Destroy previous chart if it exists\n    if (chartInstance.current) {\n      chartInstance.current.destroy();\n    }\n    const ctx = chartRef.current.getContext(\"2d\");\n\n    // Prepare data for chart\n    const labels = data.map(item => item._id);\n    const values = data.map(item => item.count);\n    const backgroundColors = [\"#3498db\", \"#2ecc71\", \"#e74c3c\", \"#f39c12\", \"#9b59b6\", \"#1abc9c\", \"#d35400\"];\n\n    // Create new chart\n    chartInstance.current = new Chart(ctx, {\n      type: \"doughnut\",\n      data: {\n        labels: labels,\n        datasets: [{\n          data: values,\n          backgroundColor: backgroundColors.slice(0, data.length),\n          borderWidth: 1\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: \"right\",\n            labels: {\n              boxWidth: 15,\n              padding: 15\n            }\n          },\n          tooltip: {\n            callbacks: {\n              label: context => {\n                const label = context.label || \"\";\n                const value = context.raw || 0;\n                const total = context.dataset.data.reduce((a, b) => a + b, 0);\n                const percentage = Math.round(value / total * 100);\n                return `${label}: ${value} (${percentage}%)`;\n              }\n            }\n          }\n        }\n      }\n    });\n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n    };\n  }, [data]);\n  if (!data || data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-chart-pie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No vaccination data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-container\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: chartRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(VaccinationChart, \"u5+iHnwD4hjVcMuzTE/TbI78erc=\");\n_c = VaccinationChart;\nexport default VaccinationChart;\nvar _c;\n$RefreshReg$(_c, \"VaccinationChart\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useEffect","useRef","Chart","jsxDEV","_jsxDEV","VaccinationChart","data","chartRef","chartInstance","length","current","destroy","ctx","getContext","labels","map","item","_id","values","count","backgroundColors","type","datasets","backgroundColor","slice","borderWidth","options","responsive","maintainAspectRatio","plugins","legend","position","boxWidth","padding","tooltip","callbacks","label","context","value","raw","total","dataset","reduce","a","b","percentage","Math","round","className","children","fileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["C:/Users/TRINADH/Downloads/BITS Notes/second sem/Full stack/School Vaccination Project/Frontend/src/components/dashboard/VaccinationChart.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef } from \"react\"\r\nimport Chart from \"chart.js/auto\"\r\nimport \"./VaccinationChart.css\"\r\n\r\nconst VaccinationChart = ({ data }) => {\r\n  const chartRef = useRef(null)\r\n  const chartInstance = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if (!data || data.length === 0) return\r\n\r\n    // Destroy previous chart if it exists\r\n    if (chartInstance.current) {\r\n      chartInstance.current.destroy()\r\n    }\r\n\r\n    const ctx = chartRef.current.getContext(\"2d\")\r\n\r\n    // Prepare data for chart\r\n    const labels = data.map((item) => item._id)\r\n    const values = data.map((item) => item.count)\r\n    const backgroundColors = [\"#3498db\", \"#2ecc71\", \"#e74c3c\", \"#f39c12\", \"#9b59b6\", \"#1abc9c\", \"#d35400\"]\r\n\r\n    // Create new chart\r\n    chartInstance.current = new Chart(ctx, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            data: values,\r\n            backgroundColor: backgroundColors.slice(0, data.length),\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: \"right\",\r\n            labels: {\r\n              boxWidth: 15,\r\n              padding: 15,\r\n            },\r\n          },\r\n          tooltip: {\r\n            callbacks: {\r\n              label: (context) => {\r\n                const label = context.label || \"\"\r\n                const value = context.raw || 0\r\n                const total = context.dataset.data.reduce((a, b) => a + b, 0)\r\n                const percentage = Math.round((value / total) * 100)\r\n                return `${label}: ${value} (${percentage}%)`\r\n              },\r\n            },\r\n          },\r\n        },\r\n      },\r\n    })\r\n\r\n    return () => {\r\n      if (chartInstance.current) {\r\n        chartInstance.current.destroy()\r\n      }\r\n    }\r\n  }, [data])\r\n\r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <div className=\"no-data\">\r\n        <i className=\"fas fa-chart-pie\"></i>\r\n        <p>No vaccination data available</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"chart-container\">\r\n      <canvas ref={chartRef}></canvas>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VaccinationChart\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}